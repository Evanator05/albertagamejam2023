[gd_scene load_steps=8 format=3 uid="uid://ckmyf2lsejipk"]

[ext_resource type="PackedScene" path="res://Objects/Door.tscn" id="1_7ieoh"]
[ext_resource type="PackedScene" uid="uid://dj7iccj4gx0yh" path="res://Objects/Buttons/MultiButton.tscn" id="2_dn6g6"]
[ext_resource type="PackedScene" uid="uid://b5jhlu5cuucef" path="res://Objects/Button.tscn" id="3_rh07f"]
[ext_resource type="PackedScene" uid="uid://dpikd35h2mjce" path="res://Objects/Player.tscn" id="4_o6sbw"]
[ext_resource type="PackedScene" path="res://Objects/Camera.tscn" id="5_c3g07"]
[ext_resource type="PackedScene" uid="uid://b2av77eexy866" path="res://Objects/Enemy.tscn" id="6_lsk83"]

[sub_resource type="NavigationMesh" id="NavigationMesh_hwf4j"]
vertices = PackedVector3Array(-0.75, -1.5, -27, 7, -1.5, -26.75, 7, -1.5, -28.25, 7.75, -1.5, -29, 9.25, -1.5, -29, 9, -1.5, -36.75, -0.75, -1.5, -27, 7, -1.5, -28.25, 7.75, -1.5, -29, 9, -1.5, -36.75, -0.75, -1.5, -36.75, 19, -1.5, -36.75, 9, -1.5, -36.75, 9.25, -1.5, -29, 19, -1.5, -29, 19, -1.5, -29, 29, -1.5, -29, 29, -1.5, -36.75, 19, -1.5, -36.75, 33.25, -1.5, 0.75, 35, -1.5, 1, 35, -1.5, -8.5, 33.25, -1.5, -8.75, 35, -1.5, -18, 35, -1.5, -27.5, 33.25, -1.5, -27.5, 33.25, -1.5, -18, 35, -1.5, -27.5, 35, -1.5, -36.75, 33.25, -1.5, -36.75, 33.25, -1.5, -27.5, 35, -1.5, -18, 33.25, -1.5, -18, 33.25, -1.5, -8.75, 35, -1.5, -8.5, -0.75, -1.5, -18.75, 1, -1.5, -18.5, 1, -1.5, -20.25, -0.75, -1.5, -18.75, 1, -1.5, -20.25, 1.75, -1.5, -21, -0.75, -1.5, -27, 9, -1.5, -21, 9.25, -1.5, -24.75, 7.75, -1.5, -24.75, 9, -1.5, -21, 7.75, -1.5, -24.75, 7, -1.5, -25.5, 1.75, -1.5, -21, 1.75, -1.5, -21, 7, -1.5, -25.5, 7, -1.5, -26.75, -0.75, -1.5, -27, 27.25, -1.5, -20.25, 27.25, -1.5, -19, 29, -1.5, -19, 26.5, -1.5, -21, 27.25, -1.5, -20.25, 29, -1.5, -19, 29, -1.5, -24.75, 17.75, -1.5, -21, 19, -1.5, -24.75, 9.25, -1.5, -24.75, 9, -1.5, -21, 26.5, -1.5, -21, 29, -1.5, -24.75, 19, -1.5, -24.75, 17.75, -1.5, -21, 29, -1.5, -19, 27.25, -1.5, -19, 27.25, -1.5, -17.75, 29, -1.5, -15, 29, -1.5, -19, 27.25, -1.5, -17.75, 26.25, -1.5, -16.75, 9.5, -1.5, -15, 19.25, -1.5, -15, 17.75, -1.5, -16.75, 9.25, -1.5, -16.75, 19.25, -1.5, -15, 29, -1.5, -15, 26.25, -1.5, -16.75, 17.75, -1.5, -16.75, 1, -1.5, -18.5, -0.75, -1.5, -18.75, -0.75, -1.5, -7, 1, -1.5, -7, -0.75, -1.5, -7, -0.75, -1.5, 4.75, 1, -1.5, 4.75, 1, -1.5, -7, 7.75, -1.5, -15, 9.5, -1.5, -15, 9.25, -1.5, -16.75, 8, -1.5, 4.75, 8, -1.5, 3.25, 7, -1.5, 2.5, 5.25, -1.5, 4.75, 5.25, -1.5, 4.75, 7, -1.5, 2.5, 6.5, -1.5, -2, 5.25, -1.5, -6, 7.5, -1.5, -4.5, 7.5, -1.5, -7.25, 7, -1.5, -7.5, 5.25, -1.5, -6, 6.5, -1.5, -3.75, 7.75, -1.5, -15, 9.25, -1.5, -16.75, 5.25, -1.5, -16.75, 7, -1.5, -14.25, 5.25, -1.5, -6, 6.5, -1.5, -2, 6.5, -1.5, -3.75, 7, -1.5, -14.25, 5.25, -1.5, -16.75, 5.25, -1.5, -6, 7, -1.5, -7.5, 7, -1.5, 2.5, 7, -1.5, -1.75, 6.5, -1.5, -2, 11.25, -1.5, -7.75, 10.75, -1.5, -7.5, 11.25, -1.5, -1, 23, -1.5, -1, 23, -1.5, -10.75, 23, -1.5, -10.75, 11.25, -1.5, -10.75, 11.25, -1.5, -7.75, 35, -1.5, 1, 33.25, -1.5, 0.75, 33.25, -1.5, 2.5, 35, -1.5, 5, 35, -1.5, 1, 33.25, -1.5, 2.5, 32.5, -1.5, 3.25, 8, -1.5, 4.75, 14.5, -1.5, 5, 14, -1.5, 3.25, 8, -1.5, 3.25, 28, -1.5, 5, 35, -1.5, 5, 32.5, -1.5, 3.25, 26.25, -1.5, 3.25, 14.5, -1.5, 5, 21.25, -1.5, 5, 20.25, -1.5, 3.25, 14, -1.5, 3.25, 21.25, -1.5, 5, 28, -1.5, 5, 26.25, -1.5, 3.25, 20.25, -1.5, 3.25)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(7, 6, 8), PackedInt32Array(8, 6, 10), PackedInt32Array(8, 10, 9), PackedInt32Array(14, 13, 11), PackedInt32Array(11, 13, 12), PackedInt32Array(18, 17, 15), PackedInt32Array(15, 17, 16), PackedInt32Array(22, 21, 19), PackedInt32Array(19, 21, 20), PackedInt32Array(26, 25, 23), PackedInt32Array(23, 25, 24), PackedInt32Array(30, 29, 27), PackedInt32Array(27, 29, 28), PackedInt32Array(32, 31, 33), PackedInt32Array(33, 31, 34), PackedInt32Array(37, 36, 35), PackedInt32Array(39, 38, 40), PackedInt32Array(40, 38, 41), PackedInt32Array(44, 43, 42), PackedInt32Array(46, 45, 47), PackedInt32Array(47, 45, 48), PackedInt32Array(50, 49, 51), PackedInt32Array(51, 49, 52), PackedInt32Array(55, 54, 53), PackedInt32Array(57, 56, 58), PackedInt32Array(58, 56, 59), PackedInt32Array(63, 62, 60), PackedInt32Array(60, 62, 61), PackedInt32Array(67, 66, 64), PackedInt32Array(64, 66, 65), PackedInt32Array(70, 69, 68), PackedInt32Array(73, 72, 74), PackedInt32Array(74, 72, 71), PackedInt32Array(78, 77, 75), PackedInt32Array(75, 77, 76), PackedInt32Array(82, 81, 79), PackedInt32Array(79, 81, 80), PackedInt32Array(86, 85, 83), PackedInt32Array(83, 85, 84), PackedInt32Array(90, 89, 87), PackedInt32Array(87, 89, 88), PackedInt32Array(93, 92, 91), PackedInt32Array(95, 94, 96), PackedInt32Array(96, 94, 97), PackedInt32Array(99, 98, 100), PackedInt32Array(100, 98, 101), PackedInt32Array(104, 103, 105), PackedInt32Array(105, 103, 102), PackedInt32Array(105, 102, 106), PackedInt32Array(107, 110, 108), PackedInt32Array(108, 110, 109), PackedInt32Array(113, 112, 111), PackedInt32Array(117, 116, 114), PackedInt32Array(114, 116, 115), PackedInt32Array(120, 119, 118), PackedInt32Array(122, 121, 123), PackedInt32Array(123, 121, 124), PackedInt32Array(124, 121, 125), PackedInt32Array(128, 127, 126), PackedInt32Array(131, 130, 129), PackedInt32Array(134, 133, 135), PackedInt32Array(135, 133, 132), PackedInt32Array(139, 138, 136), PackedInt32Array(136, 138, 137), PackedInt32Array(143, 142, 140), PackedInt32Array(140, 142, 141), PackedInt32Array(147, 146, 144), PackedInt32Array(144, 146, 145), PackedInt32Array(151, 150, 148), PackedInt32Array(148, 150, 149)]
agent_radius = 1.0

[node name="Level 3" type="Node3D"]

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_hwf4j")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
use_collision = true

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7)
flip_faces = true
size = Vector3(4, 4, 26)

[node name="CSGBox3D5" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 14, 0, -23)
flip_faces = true
size = Vector3(32, 4, 6)

[node name="CSGBox3D7" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3, 0, -32)
flip_faces = true
size = Vector3(10, 4, 12)

[node name="CSGBox3D12" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 19, 0, -33)
flip_faces = true
size = Vector3(22, 4, 10)

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, -6)
flip_faces = true
size = Vector3(4, 4, 24)

[node name="CSGBox3D6" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 10, 0, -6)
flip_faces = true
size = Vector3(4, 4, 4)

[node name="CSGBox3D11" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 17, 0, -6)
flip_faces = true
size = Vector3(12, 4, 14)

[node name="CSGBox3D4" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 22, 0, 4)
flip_faces = true
size = Vector3(4, 4, 28)

[node name="CSGBox3D10" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34, 0, -18)
flip_faces = true
size = Vector3(4, 4, 40)

[node name="CSGBox3D8" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(-4.37114e-08, 0, -1, 0, 1, 0, 1, 0, -4.37114e-08, 19, 0, -16)
flip_faces = true
size = Vector3(4, 4, 22)

[node name="CSGBox3D9" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28, 0, -17)
flip_faces = true
size = Vector3(4, 4, 6)

[node name="door" parent="NavigationRegion3D" node_paths=PackedStringArray("listenFor") instance=ExtResource("1_7ieoh")]
transform = Transform3D(-4.37114e-08, 0, 1, 0, 1, 0, -1, 0, -4.37114e-08, 9, -2, -6)
listenFor = NodePath("../MultiButton")

[node name="MultiButton" parent="NavigationRegion3D" instance=ExtResource("2_dn6g6")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.17861, 0, -2.88549)

[node name="Button" parent="NavigationRegion3D/MultiButton" instance=ExtResource("3_rh07f")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.82139, -2, -0.114511)
timerLength = 5.0

[node name="OmniLight3D" type="OmniLight3D" parent="NavigationRegion3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -27.3424)

[node name="Player" parent="." node_paths=PackedStringArray("camera") instance=ExtResource("4_o6sbw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.558234, 9.53674e-07, 5.1498)
camera = NodePath("../Camera3D")

[node name="Camera3D" parent="." node_paths=PackedStringArray("track") instance=ExtResource("5_c3g07")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, -0.508092, 0, 4.53495)
track = NodePath("../Player")

[node name="Enemy" parent="." node_paths=PackedStringArray("target", "patrolPath") instance=ExtResource("6_lsk83")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6.20381, -1.99988, -15.1802)
target = NodePath("../Guard path")
patrolPath = [NodePath("../Guard path/Node3D"), NodePath("../Guard path/Node3D2"), NodePath("../Guard path/Node3D3"), NodePath("../Guard path/Node3D5")]

[node name="Guard path" type="Node3D" parent="."]

[node name="Node3D" type="Node3D" parent="Guard path"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 28, 0, -16)

[node name="Node3D2" type="Node3D" parent="Guard path"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, -16)

[node name="Node3D3" type="Node3D" parent="Guard path"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 4)

[node name="Node3D5" type="Node3D" parent="Guard path"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34, 0, 4)

[node name="OmniLight3D" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -7.01223)

[node name="OmniLight3D2" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -23.0122)

[node name="OmniLight3D3" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -35.0122)

[node name="OmniLight3D4" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 0, -33.0122)

[node name="OmniLight3D5" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 0, -23.0122)

[node name="OmniLight3D6" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 20, 0, -16.0122)

[node name="OmniLight3D13" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, -13.0122)

[node name="OmniLight3D7" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 18, 0, -5.01223)

[node name="OmniLight3D8" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 6, 0, 3.98777)

[node name="OmniLight3D9" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 33, 0, 3.98777)

[node name="OmniLight3D10" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34, 0, -35.0122)

[node name="OmniLight3D11" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34, 0, -18.0122)

[node name="OmniLight3D12" type="OmniLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 34, 0, -18.0122)
